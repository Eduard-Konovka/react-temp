{"version":3,"sources":["pages8/CreateTodo.module.css","pages8/CreateTodo.jsx"],"names":["module","exports","CreateTodo","useCreateTodoMutation","createTodo","isLoading","isSuccess","handleCreate","e","a","preventDefault","name","currentTarget","elements","value","number","reset","toast","success","to","replace","autoComplete","className","s","editor","onSubmit","type","textarea","disabled","size"],"mappings":"mGACAA,EAAOC,QAAU,CAAC,OAAS,2BAA2B,SAAW,6BAA6B,IAAM,0B,oLCMrF,SAASC,IACtB,MAA+CC,cAA/C,mBAAOC,EAAP,YAAqBC,EAArB,EAAqBA,UAAWC,EAAhC,EAAgCA,UAE1BC,EAAY,uCAAG,WAAMC,GAAN,SAAAC,EAAA,sDACnBD,EAAEE,iBACFN,EAAW,CACTO,KAAMH,EAAEI,cAAcC,SAASF,KAAKG,MACpCC,OAAQP,EAAEI,cAAcC,SAASE,OAAOD,QAE1CN,EAAEI,cAAcI,QAChBC,IAAMC,QAAQ,gBAPK,2CAAH,sDAUlB,OACE,qCACGZ,GAAa,cAAC,IAAD,CAAUa,GAAG,SAASC,SAAO,IAC3C,uBAAMC,aAAa,MAAMC,UAAWC,IAAEC,OAAQC,SAAUlB,EAAxD,UACE,uBAAOmB,KAAK,OAAOf,KAAK,OAAOW,UAAWC,IAAEI,WAC5C,uBAAOD,KAAK,OAAOf,KAAK,SAASW,UAAWC,IAAEI,WAE9C,eAAC,IAAD,CAAQD,KAAK,SAASE,SAAUvB,EAAhC,UACGA,GAAa,cAAC,IAAD,CAASwB,KAAM,KAD/B","file":"static/js/CreateTodo.5620149f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"editor\":\"CreateTodo_editor__gYJVc\",\"textarea\":\"CreateTodo_textarea__1S5pv\",\"btn\":\"CreateTodo_btn__24oL3\"};","import { Navigate } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport { useCreateTodoMutation } from 'redux6/todos/todoSlice';\nimport Button from 'components/Button';\nimport Spinner from 'components/Spinner/Spinner';\nimport s from './CreateTodo.module.css';\n\nexport default function CreateTodo() {\n  const [createTodo, { isLoading, isSuccess }] = useCreateTodoMutation();\n\n  const handleCreate = async e => {\n    e.preventDefault();\n    createTodo({\n      name: e.currentTarget.elements.name.value,\n      number: e.currentTarget.elements.number.value,\n    });\n    e.currentTarget.reset();\n    toast.success('Note created');\n  };\n\n  return (\n    <>\n      {isSuccess && <Navigate to=\"/todos\" replace />}\n      <form autoComplete=\"off\" className={s.editor} onSubmit={handleCreate}>\n        <input type=\"text\" name=\"name\" className={s.textarea} />\n        <input type=\"text\" name=\"number\" className={s.textarea} />\n\n        <Button type=\"submit\" disabled={isLoading}>\n          {isLoading && <Spinner size={18} />}\n          Create\n        </Button>\n      </form>\n    </>\n  );\n}\n\n// Альтернатива\n// import { useNavigate } from 'react-router-dom';\n\n// export default function CreateTodo() {\n//   const navigate = useNavigate();\n//   const [createTodo, {isLoading }] = useCreateTodoMutation();\n\n//   const hendleSubmit = async e => {\n//     e.preventDefault();\n//     const content = e.currentTarget.elements.content.value;\n//     e.currentTarget.reset();\n\n//     try {\n//       await createTodo(content);\n//       navigate('/todos');\n//     } catch (error) {\n//       console.log(error);\n//     };\n//   };\n\n//   return (\n//     <form autoComplete='off' className={s.editor} onSubmit={hendleSubmit}>\n//       <textarea\n//         name='content'\n//         className={s.textarea}\n//       />\n\n//       <Button type=\"submit\" disabled={isLoading} >\n//         {isLoading && <Spinner size={18} /> }\n//         Create\n//       </Button>\n//     </form>\n//   );\n// };\n"],"sourceRoot":""}